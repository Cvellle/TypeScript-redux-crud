{"version":3,"sources":["store/actionTypes.ts","store/actionCreators.ts","components/Article.tsx","components/AddArticle.tsx","App.tsx","store/reducer.ts","index.tsx"],"names":["ADD_ARTICLE","SET_UPDATED_ARTICLE","EDIT_ARTICLE","REMOVE_ARTICLE","GET_ARTICLES","addArticle","article","type","actionTypes","removeArticle","editArticle","Article","dispatch","useDispatch","handleArticleData","e","currentTarget","id","value","setUpdatedArticle","title","setUpdatedArticleBoolean","useState","updatedArticleBoolean","editUseCallBack","useCallback","deleteArticle","className","body","placeholder","onChange","defaultValue","onClick","updateArticle","disabled","AddArticle","saveArticle","setArticle","onSubmit","preventDefault","undefined","App","articles","useSelector","state","shallowEqual","React","map","initialState","updatedArticle","reducer","action","newArticle","console","log","concat","updatedArticles","filter","editedArticles","store","createStore","applyMiddleware","thunk","rootElement","document","getElementById","render"],"mappings":"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","file":"static/js/main.bbc41a75.chunk.js","sourcesContent":["export const ADD_ARTICLE = \"ADD_ARTICLE\";\r\nexport const SET_UPDATED_ARTICLE = \"SET_UPDATED_ARTICLE\";\r\nexport const EDIT_ARTICLE = \"EDIT_ARTICLE\";\r\nexport const REMOVE_ARTICLE = \"REMOVE_ARTICLE\";\r\nexport const GET_ARTICLES = \"GET_ARTICLES\";\r\n","import * as actionTypes from \"./actionTypes\";\r\n\r\nexport function addArticle(article: IArticle) {\r\n  const action: ArticleAction = {\r\n    type: actionTypes.ADD_ARTICLE,\r\n    article,\r\n  };\r\n  return action;\r\n}\r\n\r\nexport function setUpdatedArticle(article: IArticle) {\r\n  const action: ArticleAction = {\r\n    type: actionTypes.SET_UPDATED_ARTICLE,\r\n    article,\r\n  };\r\n  return action;\r\n}\r\n\r\nexport function removeArticle(article: IArticle) {\r\n  const action: ArticleAction = {\r\n    type: actionTypes.REMOVE_ARTICLE,\r\n    article,\r\n  };\r\n  return action;\r\n}\r\n\r\nexport function editArticle(article: IArticle) {\r\n  const action: ArticleAction = {\r\n    type: actionTypes.EDIT_ARTICLE,\r\n    article,\r\n  };\r\n  return action;\r\n}\r\n","import React, { useCallback, useState } from \"react\";\r\nimport { Dispatch } from \"redux\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { setUpdatedArticle } from \"./../store/actionCreators\";\r\n\r\ntype Props = {\r\n  article: IArticle;\r\n  editArticle: (article: IArticle) => void;\r\n  removeArticle: (article: IArticle) => void;\r\n};\r\n\r\nexport const Article: React.FC<Props> = ({\r\n  article,\r\n  editArticle,\r\n  removeArticle,\r\n}) => {\r\n  const dispatch: Dispatch<any> = useDispatch();\r\n\r\n  const handleArticleData = (\r\n    e: React.FormEvent<HTMLInputElement | HTMLTextAreaElement>\r\n  ) => {\r\n    const { id, value } = e.currentTarget;\r\n    dispatch(\r\n      setUpdatedArticle({\r\n        ...article,\r\n        id: article.id,\r\n        title: article.title,\r\n        [id]: value,\r\n      })\r\n    );\r\n    setUpdatedArticleBoolean(true);\r\n  };\r\n\r\n  const [updatedArticleBoolean, setUpdatedArticleBoolean] = useState(false);\r\n\r\n  const updateArticle = (article: IArticle) => {\r\n    editUseCallBack(article);\r\n    setUpdatedArticleBoolean(false);\r\n  };\r\n\r\n  const editUseCallBack = useCallback(\r\n    (article: IArticle) => dispatch(editArticle(article)),\r\n    [dispatch, editArticle]\r\n  );\r\n\r\n  const deleteArticle = useCallback(\r\n    (article: IArticle) => {\r\n      dispatch(removeArticle(article));\r\n    },\r\n    [dispatch, removeArticle]\r\n  );\r\n\r\n  return (\r\n    <div className=\"Article\">\r\n      <div>\r\n        <h4>{article.id}</h4>\r\n      </div>\r\n      <div>\r\n        <p>{article.body}</p>\r\n      </div>\r\n      <div>\r\n        <input\r\n          type=\"text\"\r\n          id=\"title\"\r\n          placeholder=\"Title\"\r\n          onChange={handleArticleData}\r\n          defaultValue={article.title}\r\n        />\r\n        <textarea\r\n          id=\"body\"\r\n          placeholder=\"Description\"\r\n          onChange={handleArticleData}\r\n          defaultValue={article.body}\r\n        ></textarea>\r\n      </div>\r\n      <button\r\n        onClick={() => updateArticle(article)}\r\n        className=\"Add-article\"\r\n        disabled={!updatedArticleBoolean}\r\n      >\r\n        Edit\r\n      </button>\r\n      <button onClick={() => deleteArticle(article)}>Delete</button>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState } from \"react\";\r\n\r\ntype Props = {\r\n  saveArticle: (article: IArticle) => void;\r\n};\r\n\r\nexport const AddArticle: React.FC<Props> = ({ saveArticle }) => {\r\n  const [article, setArticle] = useState<IArticle>({\r\n    id: 3,\r\n    title: \"\",\r\n    body: \"\",\r\n  });\r\n\r\n  const handleArticleData = (\r\n    e: React.FormEvent<HTMLInputElement | HTMLTextAreaElement>\r\n  ) => {\r\n    const { id, value } = e.currentTarget;\r\n    setArticle({\r\n      ...article,\r\n      [id]: value,\r\n    });\r\n  };\r\n\r\n  const addNewArticle = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    saveArticle(article);\r\n    setArticle({\r\n      ...article,\r\n      id: article.id + 1,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={addNewArticle} className=\"Add-article\">\r\n      <input type=\"hidden\" id=\"id\" placeholder=\"Id\" value={article.id} />\r\n      <input\r\n        type=\"text\"\r\n        id=\"title\"\r\n        placeholder=\"Title\"\r\n        onChange={handleArticleData}\r\n      />\r\n      <textarea\r\n        id=\"body\"\r\n        placeholder=\"Body\"\r\n        onChange={handleArticleData}\r\n      ></textarea>\r\n      <button disabled={article === undefined}>Add article</button>\r\n    </form>\r\n  );\r\n};\r\n","import * as React from \"react\";\nimport { useSelector, shallowEqual, useDispatch } from \"react-redux\";\n\nimport \"./styles.css\";\nimport { Article } from \"./components/Article\";\nimport { AddArticle } from \"./components/AddArticle\";\nimport { addArticle, removeArticle, editArticle } from \"./store/actionCreators\";\nimport { Dispatch } from \"redux\";\n\nconst App: React.FC = () => {\n  const articles: readonly IArticle[] = useSelector(\n    (state: ArticleState) => state.articles,\n    shallowEqual\n  );\n  const dispatch: Dispatch<any> = useDispatch();\n\n  const saveArticle = React.useCallback(\n    (article: IArticle) => dispatch(addArticle(article)),\n    [dispatch, addArticle]\n  );\n\n  return (\n    <main>\n      <h1>My Articles</h1>\n      <AddArticle saveArticle={saveArticle} />\n      {articles.map((article: IArticle) => (\n        <Article\n          key={article.id}\n          article={article}\n          removeArticle={removeArticle}\n          editArticle={editArticle}\n        />\n      ))}\n    </main>\n  );\n};\n\nexport default App;\n","import * as actionTypes from \"./actionTypes\";\r\n\r\nconst initialState: ArticleState = {\r\n  articles: [\r\n    {\r\n      id: 1,\r\n      title: \"title 1\",\r\n      body: \"This story follows the...\",\r\n    },\r\n    {\r\n      id: 2,\r\n      title: \"title 2\",\r\n      body: \"This story tells about...\",\r\n    },\r\n  ],\r\n  updatedArticle: { id: 0, title: \"\", body: \"\" },\r\n};\r\n\r\nconst reducer = (\r\n  state: ArticleState = initialState,\r\n  action: ArticleAction\r\n): ArticleState => {\r\n  switch (action.type) {\r\n    case actionTypes.GET_ARTICLES:\r\n      return {\r\n        ...state,\r\n      };\r\n\r\n    case actionTypes.ADD_ARTICLE:\r\n      const newArticle: IArticle = {\r\n        id: action.article.id,\r\n        title: action.article.title,\r\n        body: action.article.body,\r\n      };\r\n      console.log(action.article.id);\r\n      return {\r\n        ...state,\r\n        articles: state.articles.concat(newArticle),\r\n      };\r\n    case actionTypes.REMOVE_ARTICLE:\r\n      const updatedArticles: IArticle[] = state.articles.filter(\r\n        (article) => article.id !== action.article.id\r\n      );\r\n      return {\r\n        ...state,\r\n        articles: updatedArticles,\r\n      };\r\n    case actionTypes.SET_UPDATED_ARTICLE:\r\n      const updatedArticle: IArticle = action.article;\r\n      return {\r\n        ...state,\r\n        updatedArticle: updatedArticle,\r\n      };\r\n    case actionTypes.EDIT_ARTICLE:\r\n      const editedArticles: IArticle[] = state.articles.map((article) =>\r\n        article.id !== action.article.id ? article : state.updatedArticle\r\n      );\r\n      return {\r\n        ...state,\r\n        articles: editedArticles,\r\n      };\r\n  }\r\n  return state;\r\n};\r\n\r\nexport default reducer;\r\n","import * as React from \"react\";\nimport { render } from \"react-dom\";\nimport { createStore, applyMiddleware, Store } from \"redux\";\nimport { Provider } from \"react-redux\";\nimport thunk from \"redux-thunk\";\n\nimport App from \"./App\";\nimport reducer from \"./store/reducer\";\n\nconst store: Store<ArticleState, ArticleAction> & {\n  dispatch: DispatchType;\n} = createStore(reducer, applyMiddleware(thunk));\n\nconst rootElement = document.getElementById(\"root\");\nrender(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  rootElement\n);\n"],"sourceRoot":""}